# Фронтенд часть Car Sales App

Фронтенд реализован на Flutter и предназначен для управления автосалоном через мобильное приложение.

## Основные возможности

- Просмотр, добавление, редактирование и удаление автомобилей
- Работа с клиентами: просмотр, добавление, редактирование, удаление
- Просмотр и оформление продаж
- Управление сотрудниками
- Удобная навигация между разделами через главное меню

## Структура проекта

- `lib/main.dart` — точка входа приложения
- `lib/screens/` — экраны приложения (главная, автомобили, клиенты, продажи, сотрудники)
- `lib/widgets/` — переиспользуемые виджеты
- `lib/models/` — модели данных для работы с сущностями
- `lib/services/` — сервисы для работы с API

## Взаимодействие с сервером

- Для обмена данными используется REST API, реализованный на серверной части (Node.js + Express).
- Все запросы отправляются на эндпоинты, например:  
  `http://localhost:3000/api/cars`, `http://localhost:3000/api/clients` и т.д.
- Для работы с сетью используется пакет [`http`](https://pub.dev/packages/http).

## Пример связи с сервером

```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

Future<List<Car>> fetchCars() async {
  final response = await http.get(Uri.parse('http://localhost:3000/api/cars'));
  if (response.statusCode == 200) {
    final List data = json.decode(response.body);
    return data.map((json) => Car.fromJson(json)).toList();
  } else {
    throw Exception('Ошибка загрузки автомобилей');
  }
}
```

## Навигация и связи между экранами

- Главное меню (`HomeScreen`) содержит четыре блока: Автомобили, Клиенты, Продажи, Сотрудники.
- Каждый блок ведёт на соответствующий экран, где отображаются данные, полученные с сервера.
- Для перехода между экранами используется навигация Flutter (`Navigator.pushNamed`).

## Требования

- Flutter SDK (рекомендуется последняя стабильная версия)
- Серверная часть должна быть запущена и доступна по адресу, указанному в запросах

## Реализация требований ЛР№5

1. CRUD-операции
Чтение, добавление, изменение, удаление реализованы для центральной таблицы (например, "Продажи").
Добавление и изменение происходят через отдельные формы с валидацией данных.

2. Поиск, фильтрация, сортировка
Реализован поиск по всем полям таблицы.
Фильтрация возможна по нескольким выбранным полям.
Многоуровневая сортировка реализована: пользователь может выбрать несколько полей для сортировки.

3. Защита от некорректного ввода
Используются элементы управления с ограничениями (например, выпадающие списки для внешних ключей).
Валидация данных на форме (проверка обязательных полей, формата, диапазонов).
На уровне БД используются ограничения, триггеры и представления.
Исключения обрабатываются на уровне приложения, пользователю выводятся информативные сообщения об ошибках.

4. Формы добавления и изменения
Для добавления и изменения используются отдельные формы.
При изменении данные подгружаются в форму для редактирования.
Внешние ключи выбираются из связанных таблиц через выпадающие списки.
Есть возможность добавить связанные сущности "на лету" (например, нового клиента при оформлении продажи).

5. Суррогатные ключи
Суррогатные первичные ключи не отображаются в интерфейсе пользователя.

6. Внешние ключи
В интерфейсе вместо внешних ключей отображаются понятные значения (например, ФИО клиента вместо его ID).

7. Удобство и интерактивность
Интерфейс выполнен в виде мобильного приложения на Flutter.
Используются современные элементы управления, подсказки, информативные сообщения.
Реализована навигация между разделами через главное меню.
В нижней части экрана отображается информация о количестве записей.

8. Дополнительные функции (если реализовано)
Реализована статистика по продажам с фильтрами и графическим отображением (например, график продаж по месяцам).
Интерфейс снабжён подсказками и валидацией с выделением ошибок цветом.
При удалении и изменении данных запрашивается подтверждение действия.


